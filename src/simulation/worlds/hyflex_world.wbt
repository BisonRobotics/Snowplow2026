#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/advertising_board/protos/AdvertisingBoard.proto"

WorldInfo {
}
Viewpoint {
  orientation -0.15234605953585642 -0.38875864248357334 0.9086569187753024 5.779615258876183
  position -9.55942297250132 7.519187909319432 4.376639306819561
  follow "hyflex"
  followType "Mounted Shot"
}
Background {
  skyColor [
    0.4 0.7 1
  ]
}
RectangleArena {
  floorSize 15 15
  floorTileSize 1 1
  wallHeight 0.5
}
Robot {
  translation 0 0 0.15
  children [
    DEF FRONT Solid {
      children [
        Camera {
          translation 0.05 0 0.5
          width 640
          height 480
          lens Lens {
          }
          focus Focus {
            focalLength 0.00338
          }
          zoom Zoom {
            maxFieldOfView 1.54793
          }
        }
        DEF FRONT_BODY Transform {
          scale 0.001 0.001 0.001
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.100023 0.53666 0.0196841
              }
              geometry Mesh {
                url [
                  "../resource/meshes/hyflex/base_link.dae"
                ]
              }
            }
          ]
        }
        HingeJoint {
          jointParameters HingeJointParameters {
            axis 0 0 1
            anchor -0.654 0 0
            minStop -0.32505
            maxStop 0.32505
          }
          device [
            PositionSensor {
              name "pivot_sensor"
            }
            RotationalMotor {
              name "pivot_motor"
              maxTorque 1000
            }
          ]
          endPoint DEF BACK Solid {
            children [
              DEF BACK_BODY Transform {
                scale 0.001 0.001 0.001
                children [
                  Shape {
                    appearance PBRAppearance {
                      baseColor 0.100023 0.53666 0.0196841
                    }
                    geometry Mesh {
                      url [
                        "../resource/meshes/hyflex/back.dae"
                      ]
                    }
                  }
                ]
              }
              DEF BACK_LEFT HingeJoint {
                jointParameters HingeJointParameters {
                  axis 0 1 0
                  anchor -0.978237 0.380379 0.0785005
                }
                device [
                  RotationalMotor {
                    name "back_left_motor"
                  }
                ]
                endPoint Solid {
                  translation -0.978237 0.380379 0.0785005
                  rotation 0 1 0 0
                  children [
                    DEF WHEEL Shape {
                      appearance PBRAppearance {
                        baseColor 1 0 0
                      }
                      geometry Mesh {
                        url [
                          "../resource/meshes/hyflex/wheel_collision.stl"
                        ]
                      }
                    }
                  ]
                  name "solid(3)"
                  boundingObject USE WHEEL
                  physics DEF physics_wh Physics {
                  }
                }
              }
              DEF BACK_RIGHT HingeJoint {
                jointParameters HingeJointParameters {
                  axis 0 1 0
                  anchor -0.978237 -0.380379 0.0785005
                }
                device [
                  RotationalMotor {
                    name "back_right_motor"
                  }
                ]
                endPoint Solid {
                  translation -0.978237 -0.380379 0.0785005
                  rotation 0 1 0 0
                  children [
                    DEF WHEEL Shape {
                      appearance PBRAppearance {
                        baseColor 1 0 0
                      }
                      geometry Mesh {
                        url [
                          "../resource/meshes/hyflex/wheel_collision.stl"
                        ]
                      }
                    }
                  ]
                  name "solid(4)"
                  boundingObject USE WHEEL
                  physics DEF physics_wh Physics {
                  }
                }
              }
            ]
            name "solid(5)"
            boundingObject Mesh {
              url [
                "../resource/meshes/hyflex/back_collision.stl"
              ]
            }
            physics Physics {
            }
          }
        }
        DEF FRONT_RIGHT HingeJoint {
          jointParameters HingeJointParameters {
            axis 0 1 0
            anchor -0.275964 -0.380379 0.0785005
          }
          device [
            RotationalMotor {
              name "front_right_motor"
            }
          ]
          endPoint Solid {
            translation -0.275964 -0.380379 0.0785005
            rotation 0 1 0 0
            children [
              DEF WHEEL Shape {
                appearance PBRAppearance {
                  baseColor 1 0 0
                }
                geometry Mesh {
                  url [
                    "../resource/meshes/hyflex/wheel_collision.stl"
                  ]
                }
              }
            ]
            name "solid(1)"
            boundingObject USE WHEEL
            physics DEF physics_wh Physics {
            }
          }
        }
        DEF FRONT_LEFT HingeJoint {
          jointParameters HingeJointParameters {
            axis 0 1 0
            anchor -0.2759640000000001 0.380379 0.0785005
          }
          device [
            RotationalMotor {
              name "front_left_motor"
            }
          ]
          endPoint Solid {
            translation -0.2759640000000001 0.380379 0.0785005
            rotation 0 1 0 0
            children [
              DEF WHEEL Shape {
                appearance PBRAppearance {
                  baseColor 1 0 0
                }
                geometry Mesh {
                  url [
                    "../resource/meshes/hyflex/wheel_collision.stl"
                  ]
                }
              }
            ]
            name "solid(2)"
            boundingObject USE WHEEL
            physics DEF physics_wh Physics {
            }
          }
        }
      ]
      boundingObject Mesh {
        url [
          "../resource/meshes/hyflex/base_link_collision.stl"
        ]
      }
      physics Physics {
      }
    }
  ]
  name "hyflex"
  physics Physics {
  }
  controller "<extern>"
}
AdvertisingBoard {
  translation 4 0 0
  name "tag 0"
  frontTexture [
    "../resource/textures/0.png"
  ]
  backTexture [
    "../resource/textures/0.png"
  ]
  displayWidth 1
  displayHeight 1
  frameThickness 0.1
  poleThickness 0.1
}
AdvertisingBoard {
  translation 2.5 3 0
  rotation 0 0 1 1.5707996938995747
  name "tag 1"
  frontTexture [
    "../resource/textures/1.png"
  ]
  backTexture [
    "../resource/textures/1.png"
  ]
  displayWidth 1
  displayHeight 1
  frameThickness 0.1
  poleThickness 0.1
}
AdvertisingBoard {
  translation 2.5 -3 0
  rotation 0 0 1 -1.5708
  name "tag 2"
  frontTexture [
    "../resource/textures/2.png"
  ]
  backTexture [
    "../resource/textures/2.png"
  ]
  displayWidth 1
  displayHeight 1
  frameThickness 0.1
  poleThickness 0.1
}
